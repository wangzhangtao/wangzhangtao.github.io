<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>二、k8s-前期环境准备</title>
      <link href="/kubernetes/install/k8s/2.k8s-%E5%89%8D%E6%9C%9F%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87/"/>
      <url>/kubernetes/install/k8s/2.k8s-%E5%89%8D%E6%9C%9F%E7%8E%AF%E5%A2%83%E5%87%86%E5%A4%87/</url>
      
        <content type="html"><![CDATA[<h2 id="部署DNS服务"><a href="#部署DNS服务" class="headerlink" title="部署DNS服务"></a>部署DNS服务</h2><p><code>部署节点wang-12</code></p><h3 id="安装Bind9服务"><a href="#安装Bind9服务" class="headerlink" title="安装Bind9服务"></a>安装Bind9服务</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@wang-12 ~]# yum install -y bind</span><br></pre></td></tr></table></figure><h3 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@wang-12 ~]# cp &#x2F;etc&#x2F;named.conf &#x2F;etc&#x2F;named.conf.bak</span><br><span class="line">[root@wang-12 ~]# vim &#x2F;etc&#x2F;named.conf</span><br><span class="line">12 options &#123;</span><br><span class="line">13         listen-on port 53 &#123; 192.168.70.13; &#125;;    # 监听地址</span><br><span class="line">14         &#x2F;&#x2F;listen-on-v6 port 53 &#123; ::1; &#125;;    # 不监听IV6</span><br><span class="line">21         allow-query     &#123; any; &#125;;            # 允许谁来访问，所有</span><br><span class="line">22         forwarders      &#123; 114.114.114.114; &#125;;    # 上级DNS，添加</span><br><span class="line">33         recursion yes;    # 递归查询</span><br><span class="line">35         dnssec-enable no;    # DNS安全扩展</span><br><span class="line">36         dnssec-validation no;</span><br></pre></td></tr></table></figure><p><strong>检查配置文件</strong></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@wang-12 ~]# named-checkconf</span><br></pre></td></tr></table></figure><p>没有任何输出，说明配置文件无误</p><h3 id="修改区域配置文件"><a href="#修改区域配置文件" class="headerlink" title="修改区域配置文件"></a>修改区域配置文件</h3><p>添加主机域名<code>host.com</code>，业务域<code>od.com</code></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@wang-12 ~]# cp &#x2F;etc&#x2F;named.rfc1912.zones &#x2F;etc&#x2F;named.rfc1912.zones.bak</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cat &lt;&lt; EOF &gt;&gt; &#x2F;etc&#x2F;named.rfc1912.zones</span><br><span class="line"># 文件结尾添加以下内容</span><br><span class="line">zone &quot;host.com&quot; IN &#123;</span><br><span class="line">        type master;</span><br><span class="line">        file &quot;host.com.zone&quot;;</span><br><span class="line">        allow-update &#123; 192.168.70.12; &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">zone &quot;od.com&quot; IN &#123;</span><br><span class="line">        type master;</span><br><span class="line">        file &quot;od.com.zone&quot;;</span><br><span class="line">        allow-update &#123; 192.168.70.12; &#125;;</span><br><span class="line">&#125;;</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><h3 id="添加区域数据文件"><a href="#添加区域数据文件" class="headerlink" title="添加区域数据文件"></a>添加区域数据文件</h3><p><strong>主机域配置文件</strong></p><p><code>vim /var/named/host.com.zone</code></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ORIGIN host.com.</span><br><span class="line">$TTL 600  ; 10minutes</span><br><span class="line">@    IN   SOA   dns.host.com.  dnsadmin.host.com. (</span><br><span class="line">                2019122301    ; serial</span><br><span class="line">                10800         ; refresh (3 hours)</span><br><span class="line">                900           ; retry (15 minutes)</span><br><span class="line">                604800        ; expire (1 week)</span><br><span class="line">                86400         ; minimum (1 day)</span><br><span class="line">                )</span><br><span class="line">                NS   dns.host.com.</span><br><span class="line">$TTL 60 ; 1 minute</span><br><span class="line">dns         A     192.168.70.12</span><br><span class="line">wang-200    A     192.168.70.200</span><br><span class="line">wang-11     A     192.168.70.11</span><br><span class="line">wang-12     A     192.168.70.12</span><br><span class="line">wang-21     A     192.168.70.21</span><br><span class="line">wang-22     A     192.168.70.22</span><br><span class="line">wang-23     A     192.168.70.23</span><br></pre></td></tr></table></figure><p><strong>业务域配置文件</strong></p><p><code>vim /var/named/od.com.zone</code></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">$ORIGIN od.com.</span><br><span class="line">$TTL 600  ; 10minutes</span><br><span class="line">@    IN   SOA   od.com.com.  dnsadmin.od.com. (</span><br><span class="line">                2019122301    ; serial</span><br><span class="line">                10800         ; refresh (3 hours)</span><br><span class="line">                900           ; retry (15 minutes)</span><br><span class="line">                604800        ; expire (1 week)</span><br><span class="line">                86400         ; minimum (1 day)</span><br><span class="line">                )</span><br><span class="line">                NS   dns.od.com.</span><br><span class="line">$TTL 60 ; 1 minute</span><br><span class="line">dns         A     192.168.70.12</span><br><span class="line">api.k8s     A     192.168.70.10</span><br><span class="line">*           A     192.168.70.10</span><br></pre></td></tr></table></figure><h3 id="启动-bind9服务"><a href="#启动-bind9服务" class="headerlink" title="启动 bind9服务"></a>启动 bind9服务</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@wang-12 ~]# systemctl start named</span><br><span class="line">[root@wang-12 ~]# systemctl enable named</span><br><span class="line">Created symlink from &#x2F;etc&#x2F;systemd&#x2F;system&#x2F;multi-user.target.wants&#x2F;named.service to &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;system&#x2F;named.service.</span><br><span class="line">[root@wang-12 ~]# netstat -lntup|grep -w 53</span><br><span class="line">tcp        0      0 192.168.70.12:53        0.0.0.0:*               LISTEN      51102&#x2F;named         </span><br><span class="line">udp        0      0 192.168.70.12:53        0.0.0.0:*                           51102&#x2F;named</span><br></pre></td></tr></table></figure><h3 id="检查DNS可用性"><a href="#检查DNS可用性" class="headerlink" title="检查DNS可用性"></a>检查DNS可用性</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@wang-12 ~]# dig -t A wang-11.host.com @192.168.70.12 +short  </span><br><span class="line">192.168.70.11</span><br><span class="line">[root@wang-12 ~]# dig -t A api.k8s.od.com @192.168.70.12 +short     </span><br><span class="line">192.168.70.10</span><br></pre></td></tr></table></figure><h3 id="配置DNS客户端"><a href="#配置DNS客户端" class="headerlink" title="配置DNS客户端"></a>配置DNS客户端</h3><p><strong>所有主机都需要修改</strong></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@wang-200 ~]# ansible all -m shell -a &quot;sed -i &#39;s&amp;DNS1&#x3D;114.114.114.114&amp;DNS1&#x3D;192.168.70.12&amp;&#39; &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-ens160 &amp;&amp; systemctl restart network &quot;</span><br></pre></td></tr></table></figure><p><strong>检测结果</strong></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@wang-12 ~]# cat &#x2F;etc&#x2F;resolv.conf</span><br><span class="line"># Generated by NetworkManager</span><br><span class="line">search host.com</span><br><span class="line">nameserver 192.168.70.12</span><br></pre></td></tr></table></figure><p><strong>测试可用性</strong></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@wang-12 ~]# ping -c3 wang-11</span><br><span class="line">PING wang-11.host.com (192.168.70.11) 56(84) bytes of data.</span><br><span class="line">64 bytes from 192.168.70.11 (192.168.70.11): icmp_seq&#x3D;1 ttl&#x3D;64 time&#x3D;0.318 ms</span><br><span class="line"></span><br><span class="line">[root@wang-12 ~]# ping -c3 www.baidu.com</span><br><span class="line">PING www.a.shifen.com (180.101.49.12) 56(84) bytes of data.</span><br><span class="line">64 bytes from 180.101.49.12 (180.101.49.12): icmp_seq&#x3D;1 ttl&#x3D;51 time&#x3D;20.8 ms</span><br></pre></td></tr></table></figure><h2 id="部署签发证书环境"><a href="#部署签发证书环境" class="headerlink" title="部署签发证书环境"></a>部署签发证书环境</h2><p><code>部署主机：wang-200</code></p><h3 id="安装CFSSL"><a href="#安装CFSSL" class="headerlink" title="安装CFSSL"></a>安装CFSSL</h3><p>证书签发工具CFSSL: R1.2</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">wget https:&#x2F;&#x2F;pkg.cfssl.org&#x2F;R1.2&#x2F;cfssl_linux-amd64 -O &#x2F;usr&#x2F;bin&#x2F;cfssl</span><br><span class="line">wget https:&#x2F;&#x2F;pkg.cfssl.org&#x2F;R1.2&#x2F;cfssljson_linux-amd64 -O &#x2F;usr&#x2F;bin&#x2F;cfssl-json</span><br><span class="line">wget https:&#x2F;&#x2F;pkg.cfssl.org&#x2F;R1.2&#x2F;cfssl-certinfo_linux-amd64  -O  &#x2F;usr&#x2F;bin&#x2F;cfssl-certinfo</span><br><span class="line">chmod +x &#x2F;usr&#x2F;bin&#x2F;cfssl &#x2F;usr&#x2F;bin&#x2F;cfssl-json &#x2F;usr&#x2F;bin&#x2F;cfssl-certinfo</span><br></pre></td></tr></table></figure><p>创建生成CA证书签名请求(csr)的json配置文件</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@wang-200 ~]# mkdir &#x2F;opt&#x2F;certs</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">cat &lt;&lt; EOF &gt; &#x2F;opt&#x2F;certs&#x2F;ca-csr.json</span><br><span class="line">&#123;</span><br><span class="line">    &quot;CN&quot;: &quot;kubernetes-ca&quot;,</span><br><span class="line">    &quot;hosts&quot;: [</span><br><span class="line">    ],</span><br><span class="line">    &quot;key&quot;: &#123;</span><br><span class="line">        &quot;algo&quot;: &quot;rsa&quot;,</span><br><span class="line">        &quot;size&quot;: 2048</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;names&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;C&quot;: &quot;CN&quot;,</span><br><span class="line">            &quot;ST&quot;: &quot;beijing&quot;,</span><br><span class="line">            &quot;L&quot;: &quot;beijing&quot;,</span><br><span class="line">            &quot;O&quot;: &quot;wang&quot;,</span><br><span class="line">            &quot;OU&quot;: &quot;ops&quot;</span><br><span class="line">        &#125;</span><br><span class="line">    ],</span><br><span class="line">    &quot;ca&quot;: &#123;</span><br><span class="line">        &quot;expiry&quot;: &quot;175200h&quot;        # 证书有效时间</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure><div class="note info">            <p>CN: Common Name，浏览器使用该字段验证网站是否合法，一般写的是域名。非常重要。浏览器使用该字段验证网站是否合法<br>C: Country， 国家<br>ST: State，州，省<br>L: Locality，地区，城市<br>O: Organization Name，组织名称，公司名称<br>OU: Organization Unit Name，组织单位名称，公司部门</p>          </div>]]></content>
      
      
      <categories>
          
          <category> kubernetes </category>
          
          <category> install </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kubernetes </tag>
            
            <tag> install </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一、k8s-实验环境说明</title>
      <link href="/kubernetes/install/k8s/1.k8s-%E5%AE%9E%E9%AA%8C%E7%8E%AF%E5%A2%83%E8%AF%B4%E6%98%8E/"/>
      <url>/kubernetes/install/k8s/1.k8s-%E5%AE%9E%E9%AA%8C%E7%8E%AF%E5%A2%83%E8%AF%B4%E6%98%8E/</url>
      
        <content type="html"><![CDATA[<h2 id="文档说明"><a href="#文档说明" class="headerlink" title="文档说明"></a>文档说明</h2><p>本文档为kubernetes二进制安装方式，以老男孩k8s一期培训课程为基础模版，增加了一个k8s控制节点(机器上也有工作节点)，并有少量改动。</p><p>主要参考文档：</p><ul><li><a href="https://www.jianshu.com/p/ad36d2ad0df0" target="_blank" rel="noopener">OneLpc二进制安装K8S集群</a></li><li><a href="https://www.cnblogs.com/slim-liu/p/11953318.html" target="_blank" rel="noopener">slim_liu的k8s交付实战</a></li><li><a href="https://www.wqblogs.com/2020/01/08/%E9%83%A8%E7%BD%B2kibana/" target="_blank" rel="noopener">虫子k8s生态实战</a></li></ul><h2 id="实验架构图"><a href="#实验架构图" class="headerlink" title="实验架构图"></a>实验架构图</h2><p><img src="http://wang.ikongjian.com/img/kubernetes/install/2020033123005972.png" alt="实验架构图"></p><h2 id="实验主机说明"><a href="#实验主机说明" class="headerlink" title="实验主机说明"></a>实验主机说明</h2><p>操作系统：7.6.1810； 内核：3.10.0</p><table><thead><tr><th>主机名</th><th>IP地址</th><th>角色</th><th>硬件配置</th></tr></thead><tbody><tr><td>wang-200.host.com(zzgw7-200)</td><td>192.168.70.200</td><td>运维节点</td><td>4核8G-100G</td></tr><tr><td>wang-11.host.com(zzgw7-11)</td><td>192.168.70.11</td><td>k8s代理节点</td><td>2核4G-100G</td></tr><tr><td>wang-12.host.com(zzgw7-12)</td><td>192.168.70.12</td><td>k8s代理节点</td><td>2核4G-100G</td></tr><tr><td>wang-21.host.com(zzgw7-21)</td><td>192.168.70.21</td><td>k8s控制节点, 工作节点</td><td>2核4G-100G</td></tr><tr><td>wang-22.host.com(zzgw7-22)</td><td>192.168.70.22</td><td>k8s控制节点, 工作节点</td><td>2核4G-100G</td></tr><tr><td>wang-23.host.com</td><td>192.168.70.23</td><td>k8s控制节点, 工作节点</td><td>2核4G-100G</td></tr><tr><td>wang-24.host.com</td><td>192.168.70.24</td><td>k8s工作节点（以后添加）</td><td>4核8G-100G</td></tr><tr><td>wang-25.host.com</td><td>192.168.70.25</td><td>k8s工作节点（以后添加）</td><td>4核8G-100G</td></tr></tbody></table><h2 id="通过VMWare创建虚拟主机"><a href="#通过VMWare创建虚拟主机" class="headerlink" title="通过VMWare创建虚拟主机"></a>通过VMWare创建虚拟主机</h2><p>Wang-11, wang-12,wang-21, wang-22, wang-23, wang-24, wang-25</p><h2 id="修改wang-19运维节点系统配置"><a href="#修改wang-19运维节点系统配置" class="headerlink" title="修改wang-19运维节点系统配置"></a>修改wang-19运维节点系统配置</h2><p><strong>修改默认密码</strong></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# echo wang123 | passwd --stdin root</span><br><span class="line">[root@localhost ~]# mkdir &#x2F;data&#x2F;shell</span><br></pre></td></tr></table></figure><p><strong>创建文件，方便以后使用</strong></p><p><code>vim /data/shell/modify_server.sh</code></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line"># 修改主机名</span><br><span class="line">hostip&#x3D;&#96;ifconfig ens160 | grep 192 | awk &#39;&#123;print $2&#125;&#39;| awk -F&#39;.&#39; &#39;&#123;print $4&#125;&#39; &#96;; hostnamectl set-hostname wang-$hostip.host.com</span><br><span class="line"></span><br><span class="line"># 配置阿里yum源</span><br><span class="line">mkdir &#x2F;etc&#x2F;yum.repos.d&#x2F;bak &amp;&amp; mv &#x2F;etc&#x2F;yum.repos.d&#x2F;*.repo &#x2F;etc&#x2F;yum.repos.d&#x2F;bak</span><br><span class="line">curl -o &#x2F;etc&#x2F;yum.repos.d&#x2F;CentOS-Base.repo http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;repo&#x2F;Centos-7.repo</span><br><span class="line">curl -o &#x2F;etc&#x2F;yum.repos.d&#x2F;epel.repo http:&#x2F;&#x2F;mirrors.aliyun.com&#x2F;repo&#x2F;epel-7.repo</span><br><span class="line"></span><br><span class="line"># 关闭SElinux</span><br><span class="line">sed -i &#39;s&#x2F;SELINUX&#x3D;enforcing&#x2F;SELINUX&#x3D;disabled&#x2F;&#39; &#x2F;etc&#x2F;selinux&#x2F;config</span><br><span class="line">setenforce 0</span><br><span class="line"></span><br><span class="line"># 关闭firewalld</span><br><span class="line">systemctl disable firewalld.service  </span><br><span class="line">systemctl stop firewalld.service</span><br><span class="line"></span><br><span class="line"># 安装必要工具</span><br><span class="line">yum install -y wget net-tools telnet tree nmap sysstat lrzsz dos2unix </span><br><span class="line"></span><br><span class="line"># 创建日志目录</span><br><span class="line">mkdir -p &#x2F;data&#x2F;logs</span><br></pre></td></tr></table></figure><p>执行配置文件</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@localhost ~]# chmod +x &#x2F;data&#x2F;shell&#x2F;modify_server.sh</span><br><span class="line">[root@localhost ~]# &#x2F;data&#x2F;shell&#x2F;modify_server.sh</span><br></pre></td></tr></table></figure><h2 id="使用ansible来进行统一管理"><a href="#使用ansible来进行统一管理" class="headerlink" title="使用ansible来进行统一管理"></a>使用ansible来进行统一管理</h2><h3 id="创建一个-SSH-key，用来管理其他服务器"><a href="#创建一个-SSH-key，用来管理其他服务器" class="headerlink" title="创建一个 SSH key，用来管理其他服务器"></a>创建一个 SSH key，用来管理其他服务器</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@wang-19 ~]# ssh-keygen -t rsa -C &quot;wang@qq.com&quot;</span><br></pre></td></tr></table></figure><p>将公钥拷贝到其他管理服务器，比如192.168.70.11</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@wang-200 ~]# ssh-copy-id 192.168.70.11</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;ssh-copy-id: INFO: Source of key(s) to be installed: &quot;&#x2F;root&#x2F;.ssh&#x2F;id_rsa.pub&quot;</span><br><span class="line">The authenticity of host &#39;192.168.70.11 (192.168.70.11)&#39; can&#39;t be established.</span><br><span class="line">ECDSA key fingerprint is SHA256:uAnxlYCLTfdyOL0yA5xwDgSN1V&#x2F;WmyjwJqvixpsFoJ4.</span><br><span class="line">ECDSA key fingerprint is MD5:47:f9:99:e4:3a:30:2b:05:37:b3:29:07:60:57:ef:4d.</span><br><span class="line">Are you sure you want to continue connecting (yes&#x2F;no)? yes</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;ssh-copy-id: INFO: attempting to log in with the new key(s), to filter out any that are already installed</span><br><span class="line">&#x2F;usr&#x2F;bin&#x2F;ssh-copy-id: INFO: 1 key(s) remain to be installed -- if you are prompted now it is to install the new keys</span><br><span class="line">root@192.168.70.11&#39;s password: </span><br><span class="line"></span><br><span class="line">Number of key(s) added: 1</span><br><span class="line"></span><br><span class="line">Now try logging into the machine, with:   &quot;ssh &#39;192.168.70.11&#39;&quot;</span><br><span class="line">and check to make sure that only the key(s) you wanted were added.</span><br></pre></td></tr></table></figure><h3 id="安装ansible"><a href="#安装ansible" class="headerlink" title="安装ansible"></a>安装ansible</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@wang-200 ~]# yum -y install ansible</span><br></pre></td></tr></table></figure><h3 id="修改ansible配置文件"><a href="#修改ansible配置文件" class="headerlink" title="修改ansible配置文件"></a>修改ansible配置文件</h3><p><code>vim /etc/ansible/hosts</code></p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[all:children]</span><br><span class="line">yunwei</span><br><span class="line">k8s</span><br><span class="line">[k8s:children]</span><br><span class="line">nginx</span><br><span class="line">master</span><br><span class="line">worker</span><br><span class="line">[yunwei]</span><br><span class="line">192.168.70.200</span><br><span class="line">[nginx]</span><br><span class="line">192.168.70.11</span><br><span class="line">192.168.70.12</span><br><span class="line">[master]</span><br><span class="line">192.168.70.21</span><br><span class="line">192.168.70.22</span><br><span class="line">192.168.70.23</span><br><span class="line">[worker]</span><br><span class="line">192.168.70.21</span><br><span class="line">192.168.70.22</span><br><span class="line">192.168.70.23</span><br></pre></td></tr></table></figure><h2 id="使用anbile修改其他服务器"><a href="#使用anbile修改其他服务器" class="headerlink" title="使用anbile修改其他服务器"></a>使用anbile修改其他服务器</h2><h3 id="修改其他服务器的密码"><a href="#修改其他服务器的密码" class="headerlink" title="修改其他服务器的密码"></a>修改其他服务器的密码</h3><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@wang-200 ~]# ansible k8s -m shell -a &quot;echo wang123 | passwd --stdin root&quot;</span><br></pre></td></tr></table></figure><h3 id="调整其他服务器系统配置"><a href="#调整其他服务器系统配置" class="headerlink" title="调整其他服务器系统配置"></a>调整其他服务器系统配置</h3><p>拷贝文件到服务器并运行文件</p><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">[root@wang-200 ~]# ansible k8s -m copy -a &quot;src&#x3D;&#x2F;data&#x2F;shell&#x2F;modify_server.sh dest&#x3D;&#x2F;tmp&#x2F;modify_server.sh mode&#x3D;0755 backup&#x3D;true&quot;</span><br><span class="line">[root@wang-200 ~]# ansible k8s -m shell -a &quot;&#x2F;tmp&#x2F;modify_server.sh&quot;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> kubernetes </category>
          
          <category> install </category>
          
      </categories>
      
      
        <tags>
            
            <tag> kubernetes </tag>
            
            <tag> install </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Test</title>
      <link href="/foo/bar2/test/"/>
      <url>/foo/bar2/test/</url>
      
        <content type="html"><![CDATA[<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><p>哪个英文字母最酷？ <span class="hide-inline"><a class="hide-button button--primary button--animated" style="background-color: #FF7242;color: #fff">查看答案  </a><span class="hide-content">因为西装裤(C装酷)</span></span></p><p>门里站着一个人? <span class="hide-inline"><a class="hide-button button--primary button--animated" style="">Click  </a><span class="hide-content">闪</span></span></p><blockquote><p>wang</p><footer><strong>[author[</strong><cite>source]] [link] [source_link_title]</cite></footer></blockquote><figure class="highlight plain"><figcaption><span>[title] [] [url] [link text] [additional options]</span></figcaption><table><tr><td class="code"><pre><span class="line">code snippet</span><br></pre></td></tr></table></figure><figure class="highlight plain"><figcaption><span>_.compact</span><a href="http://underscorejs.org/#compact" target="_blank" rel="noopener">Underscore.js</a></figcaption><table><tr><td class="code"><pre><span class="line">_.compact([0, 1, false, 2, &#39;&#39;, 3]);</span><br><span class="line">&#x3D;&gt; [1, 2, 3]</span><br></pre></td></tr></table></figure><div class="hide-block"><a class="hide-button button--primary button--animated" style="">查看答案 小美女    </a><span class="hide-content"><div class="justified-gallery"><p><img src="https://i.loli.net/2019/12/25/Fze9jchtnyJXMHN.jpg" alt=""><br><img src="https://i.loli.net/2019/12/25/ryLVePaqkYm4TEK.jpg" alt=""><br><img src="https://i.loli.net/2019/12/25/gEy5Zc1Ai6VuO4N.jpg" alt=""><br><img src="https://i.loli.net/2019/12/25/d6QHbytlSYO4FBG.jpg" alt=""><br><img src="https://i.loli.net/2019/12/25/6nepIJ1xTgufatZ.jpg" alt=""><br><img src="https://i.loli.net/2019/12/25/E7Jvr4eIPwUNmzq.jpg" alt=""><br><img src="https://i.loli.net/2019/12/25/mh19anwBSWIkGlH.jpg" alt=""><br><img src="https://i.loli.net/2019/12/25/2tu9JC8ewpBFagv.jpg" alt=""></p>          </div></span></div><p>隐藏</p><div class="hide-toggle" style="border: 1px solid bg"><div class="hide-button toggle-title" style="background-color: bg;color: color"><i class="fa fa-caret-right fa-fw"></i><span>display</span></div>    <div class="hide-content"><figure class="highlight plain"><table><tr><td class="code"><pre><span class="line">content</span><br><span class="line">[root@ikj-141 hexo]# grep since source&#x2F;_data&#x2F;butterfly.yml </span><br><span class="line">since: 2020</span><br></pre></td></tr></table></figure></div></div><p>mermaid</p><p>使用mermaid标签可以绘制Flowchart（流程图）、Sequence diagram（时序图 ）、Class Diagram（类别图）、State Diagram（状态图）、Gantt（甘特图）和Pie Chart（圆形图</p><div class="mermaid">          内容          </div><div class="mermaid">          pie    title Key elements in Product X    "Calcium" : 42.96    "Potassium" : 50.05    "Magnesium" : 10.01    "Iron" :  5          </div><div class="gallery-group-main">  <figure class="gallery-group">  <img class="gallery-group-img" src='https://i.loli.net/2019/11/10/T7Mu8Aod3egmC4Q.png'>  <figcaption>  <div class="gallery-group-name">壁纸</div>  <p>收藏的一些壁纸</p>  <a href='/Gallery/wallpaper'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img" src='https://i.loli.net/2019/12/25/8t97aVlp4hgyBGu.jpg'>  <figcaption>  <div class="gallery-group-name">漫威</div>  <p>关于漫威的图片</p>  <a href='/Gallery/marvel'></a>  </figcaption>  </figure>    <figure class="gallery-group">  <img class="gallery-group-img" src='https://i.loli.net/2019/12/25/hOqbQ3BIwa6KWpo.jpg'>  <figcaption>  <div class="gallery-group-name">OH MY GIRL</div>  <p>关于OH MY GIRL的图片</p>  <a href='/Gallery/ohmygirl'></a>  </figcaption>  </figure>  </div>]]></content>
      
      
      <categories>
          
          <category> foo </category>
          
          <category> bar2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> k8s </tag>
            
            <tag> elk </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/foo/bar2/hello-world/"/>
      <url>/foo/bar2/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> foo </category>
          
          <category> bar2 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> k8s </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
